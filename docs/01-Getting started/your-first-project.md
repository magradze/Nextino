---
sidebar_position: 3
title: 'Your First Project'
---

# üí° Your First Project: Plug-and-Play Blink

Let's build the "Hello, World!" of the embedded world‚Äîa blinking LED‚Äîbut with the power and structure of the Nextino framework. This tutorial will demonstrate the core **Plug-and-Play** and **Configuration-Driven** philosophy of Nextino.

By the end, you will have a fully functional, modular application with a minimal `main.cpp`, and you'll understand how Nextino automatically discovers and manages your modules.

---

## üéØ The Goal

We will create a simple project that blinks an LED. However, instead of writing the logic directly in `main.cpp`, we will create a self-contained, reusable `LedFlasher` module.

## Step 1: Project Setup

If you haven't already, create a new PlatformIO project and [install the Nextino framework](./installation.md) as described in the previous guide.

Your `platformio.ini` should look like this:

```ini title="platformio.ini"
[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
monitor_filters = colorize

lib_deps =
    https://github.com/magradze/Nextino.git
```

## Step 2: Create the `LedFlasher` Module

Modules in Nextino are just PlatformIO libraries. Let's create one for our LED.

1. Inside your project's `lib` folder, create a new folder named `LedFlasher`.
2. This new library needs three key files to become a Nextino module.

### 2.1. The Configuration (`config.json`)

This file defines the default parameters for our module.

```json title="lib/LedFlasher/config.json"
{
  "type": "LedModule",
  "config": {
    "pin": 2,
    "interval_ms": 500
  }
}
```

* `"type": "LedModule"`: This is the unique string identifier for our module class.
* `"config"`: An object containing the specific settings for this module.

### 2.2. The Manifest (`library.json`)

This file tells PlatformIO about our library and, crucially, marks it as a Nextino module for our build script.

```json title="lib/LedFlasher/library.json"
{
    "name": "LedFlasher",
    "version": "1.0.0",
    "description": "A simple LED flasher module for the Nextino framework.",
    "keywords": "nextino-module, led, flasher",
    "dependencies": {
        "Nextino": "*"
    }
}
```

:::tip
The `"keywords": "nextino-module"` part is the magic that allows our build script to automatically discover this library!
:::

### 2.3. The Code (`LedModule.h` & `LedModule.cpp`)

Create a `src` folder inside `lib/LedFlasher` and add the following files.

```cpp title="lib/LedFlasher/src/LedModule.h"
#pragma once
#include <Nextino.h>

class LedModule : public BaseModule {
private:
    int ledPin;
    unsigned long blinkInterval;

public:
    LedModule(const JsonObject& config);
    
    // Required by the ModuleFactory
    static BaseModule* create(const JsonObject& config) {
        return new LedModule(config);
    }

    // --- BaseModule Lifecycle Methods ---
    const char* getName() const override;
    void init() override;
    void start() override;
};
```

```cpp title="lib/LedFlasher/src/LedModule.cpp"
#include "LedModule.h"

LedModule::LedModule(const JsonObject& config) {
    // Read parameters from the JSON config, with default values
    ledPin = config["pin"] | LED_BUILTIN;
    blinkInterval = config["interval_ms"] | 1000;
}

const char* LedModule::getName() const {
    return "LedModule";
}

void LedModule::init() {
    pinMode(ledPin, OUTPUT);
    NEXTINO_LOGI(getName(), "Initialized on pin %d.", ledPin);
}

void LedModule::start() {
    NextinoScheduler().scheduleRecurring(blinkInterval, [this]() {
        digitalWrite(ledPin, !digitalRead(ledPin));
    });
    NEXTINO_LOGI(getName(), "Blink task scheduled every %lu ms.", blinkInterval);
}
```

## Step 3: The Minimal `main.cpp`

Now for the best part. Your main application file remains incredibly clean.

```cpp title="src/main.cpp"
#include <Arduino.h>
#include <Nextino.h>

// This header is auto-generated by Nextino's build script!
#include "generated_config.h"

void setup() {
    // 1. Initialize the Logger
    Logger::getInstance().begin(LogLevel::Debug);
    
    NEXTINO_LOGI("Main", "--- Nextino Blink Demo ---");

    // 2. Register all discovered module types
    registerAllModuleTypes();

    // 3. Start the system
    NextinoSystem().begin();
    
    NEXTINO_LOGI("Main", "System is running.");
}

void loop() {
    NextinoSystem().loop();
}
```

Notice that `main.cpp` has **no direct reference** to `LedModule`. It doesn't know what modules are in the project‚Äîand it doesn't need to!

## Step 4: Build and Upload

1. Add the `LedFlasher` module to your project's dependencies.

    ```ini title="platformio.ini"
    ; ... other settings
    lib_deps =
        https://github.com/magradze/Nextino.git
        lib/LedFlasher ; Tells PIO to use the local library
    ```

2. Click the **"Upload and Monitor"** button in PlatformIO.

The build script will run, find your `LedFlasher` module, generate the configuration, and your `main.cpp` will bring it to life. You should see the logs in the Serial Monitor and your LED will start blinking!

---

### Next Steps

You've now experienced the power of Nextino's core philosophy. Let's dive deeper into the architecture.

‚û°Ô∏è **[Core Concepts](../core-concepts/architecture-overview.md)**
